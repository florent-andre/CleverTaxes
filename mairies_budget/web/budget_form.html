<!DOCTYPE html>

<html>
  <body>   
<polymer-element name="budget-form" extends="form">
    <style>
      p {
        color: #333333;
        font-size: 90%;
        line-height: 1.8;
        margin-bottom: 1em;
      }
      .submitarea {
        padding: 10px 10px 10px 10px;
        margin: 10px 10px 10px 10px;
        border-style: solid;
        border-width: 1px;
        border-color: SlateBlue;
        clear: left;
      }
     .responsetext {
        padding: 5px 10px 10px 10px;
        margin: 10px 10px 10px 10px;
        clear: left;
        background-color: WhiteSmoke;
        width: 90%;
        height: 70px;
        resize: none;
      }
    </style>
    <template>
     <fieldset>
        <legend>
              Votre mairie
        </legend>
        <p> 
          <label for ="mairie">Mairie*</label>
          <input type="text" name ="mairie" id ="mairie" placeholder="Le nom de votre mairie" value="{{mairie}}" autofocus required>
       </p>
       <p> 
          <label for ="annee">Annee*</label>
          <input type="number" name ="annee" id="annee" placeholder="L'annee" value={{annee}} step ="1" min = "2010" required>
       </p>
        <template repeat="{{line in lines}}">
          <p>
            <label>Intitule*</label>
            <input type="text"  value="{{line.label}}" />
            
            <label>Montant*</label>
            <input  type="number" value="{{line.amount}}" step ="1000" min = "0"/>
          </p>
        </template>
      
       <p>
        <button on-click="{{addNewLigne}}">Ajouter new ligne</button>
       </p>
       <p id="errorMessage"></p>
       <div class="submitarea">
          <input type="submit" name ="submit" value="Envoyer" on-click="{{submitForm}}">
          <input type="reset" name = "reset" value="Reinitialiser"  on-click="{{resetForm}}"> 
       </div>
       <p>
              *Champs obligatoires
       </p>
        <p> 
          <textarea disabled class="responsetext" value="{{serverResponse}}"></textarea>
        </p>  
    </fieldset>   
    </template>
      
    <script type="application/dart" src="budget_form.dart">
    </script>
  </polymer-element>
</body>
</html>