<!DOCTYPE html><html><head><script src="packages/shadow_dom/shadow_dom.debug.js"></script>
<script src="packages/custom_element/custom-elements.debug.js"></script>
<script src="packages/browser/interop.js"></script>

    <meta charset="utf-8">
    <title>Saisie des budgets des mairies</title>
   
    
    <link rel="stylesheet" href="normalize.css" media="screen">
    
    <script src="index.html_bootstrap.dart.js"></script>
    
     
  </head>
  <body>   
<polymer-element name="budget-form" extends="form">
   
    <template>
     <fieldset>
        <legend>
              Votre mairie
        </legend>
        <p> 
          <label for="mairie">Mairie*</label>
          <input type="text" name="mairie" id="mairie" placeholder="Le nom de votre mairie" value="{{mairie}}" autofocus="" required="">
       </p>
       <p> 
          <label for="annee">Annee*</label>
          <input type="number" name="annee" id="annee" placeholder="L'annee" value="{{annee}}" step="1" min="2010" required="">
       </p>
        <template repeat="{{line in lines}}">
          <p>
            <label>Intitule*</label>
            <input type="text" value="{{line.label}}">
            
            <label>Montant*</label>
            <input type="number" value="{{line.amount}}" step="1000" min="0">
          </p>
        </template>
      
       <p>
        <button on-click="{{addNewLigne}}">Ajouter new ligne</button>
       </p>
       <p id="errorMessage"></p>
       <div class="submitarea">
          <input type="submit" name="submit" value="Envoyer" on-click="{{submitForm}}">
          <input type="reset" name="reset" value="Reinitialiser" on-click="{{resetForm}}"> 
       </div>
       <p>
              *Champs obligatoires
       </p>
        <p> 
          <textarea disabled="" class="responsetext" value="{{serverResponse}}"></textarea>
        </p>  
    </fieldset>   
    </template>
      
    
  </polymer-element>

<polymer-element name="mairie-select">
    
    <template>
    <p>
      <label>Mairie</label>
      <select id="mairiesList" selectedindex="{{selected}}" value="{{value}}">
          <option template="" repeat="{{name in mairiesList}}">
              {{name}}
          </option>
      </select>
     </p> 
     <p> 
      <template if="{{selected == 5}}"> <!-- Autre -->
        Votre mairie n'existe pas ? Connaissez-vous les valeurs d'une annee precedente?
        <button on-click="{{showForm}}">Oui</button>       
      </template>
      
       <template if="{{selected != 5}}">
        <button on-click="{{next}}">Suivant</button>
      </template>
   
    </p>
    </template>
    
    
    
  </polymer-element>

    <h1>Mairie Budget</h1>
    
    <div id="container_id">
      <div id="selectMairie" class="entry">
        <mairie-select></mairie-select>
      </div>
  
      <div id="container" style="display:none">
       <form is="budget-form" id="budget-form"></form>
      </div>
    </div>  
  <script>
  var mairieSelect = document.querySelector('mairie-select');
           mairieSelect.addEventListener('mairie-select', function(e) {
             console.log(e.type);
             var obj = document.getElementById("container");
             obj.style.display = 'inline';      
      });
           
 </script>
 
  

</body></html>